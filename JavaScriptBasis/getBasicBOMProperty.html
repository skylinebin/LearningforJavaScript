<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>BOM Function</title>
</head>
<body>

  <script src="./userAgentDetection.js"></script>
  <script>
    // 跨浏览器获取 窗口左边和上边的位置
    var leftPos = (typeof window.screenLeft == "number") ? window.screenLeft : window.screenX;
    var topPos = (typeof window.screenTop == "number") ? window.screenTop : window.screenY;

    // 兼容 取得视口的大小
    var pageWidth = window.innerWidth,
        pageHeight = window.innerHeight;

    // 判断 是否支持 window.innerWidth
    if (typeof pageWidth != "number") {
      // 判断页面是否处于 标准模式
      if (document.compatMode == "CSS1Compat") {
        pageWidth = document.documentElement.clientWidth;
        pageHeight = document.documentElement.clientHeight;
      } else {
        pageWidth = document.body.clientWidth;
        pageHeight = document.body.clientHeight;
      }
    }

    // 检测 浏览器调用 window.open() 打开的弹出窗口是否被屏蔽  
    var blocked = false;
    try {
      var wroxWin = window.open("http://www.wrox.com", "_blank");
      if (wroxWin == null) {
        blocked = true;
      }
    } catch (error) {
      blocked = true;
    }
    if (blocked) {
      console.log("The popup was blocked!");
    }

    // 超时调用 与 间歇调用  
    // 使用 超时调用模拟间歇调用  
    var countNum = 0;
    var numMax = 10;
    function incrementNumber() {
      countNum++;

      if (countNum < numMax) {
        setTimeout(incrementNumber, 500);
      } else {
        console.log("Cycle ended!");
      }
    }

    setTimeout(incrementNumber, 500);

    // 以上代码常用于替换以下代码 

    // var num = 0;
    // var max = 10;
    // var intervalId = null;
    // function incrementNumber() {
    //   num++;

    //   if (num < max) {
    //    clearInterval(intervalId);
    //    console.log("Cycle ended!"); 
    //   }
    // }
    // 
    // intervalId = setInterval(incrementNumber, 500);
    // 
    // 
    var thisClient = client;
    console.log(thisClient.engine);
    console.log(thisClient.browser);
    console.log(thisClient.system);

  </script>  
</body>
</html>